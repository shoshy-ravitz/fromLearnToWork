<div class="user-add-container">
  <h2>Add User</h2>
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="name">Name</label>
      <input id="name" type="text" class="form-control" formControlName="name" />
      @if(name?.invalid && name?.touched)
      {
        <div class="text-danger">
          @if(name?.errors?.['required'])
          {
            <small>Name is required.</small>
          }
          @else if(name?.errors?.['minlength'])
          {
            <small>Name must be at least 3 characters long.</small>
          }
        </div>
      }
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input id="email" type="email" class="form-control" formControlName="email" />
      @if(email?.invalid && email?.touched)
      {
        <div class="text-danger">
          @if(email?.errors?.['required'])
          {
            <small>Email is required.</small>
          }
          @else if(email?.errors?.['email'])
          {
            <small>Invalid email format.</small>
          }
        </div>
      }
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input id="password" type="password" class="form-control" formControlName="password" />
      @if(password?.invalid && password?.touched)
      {
        <div class="text-danger">
          @if(password?.errors?.['required'])
          {
            <small>Password is required.</small>
          }
          @else if(password?.errors?.['minlength'])
          {
            <small>Password must be at least 6 characters long.</small>
          }
        </div>
      }
    </div>


    <button type="submit" class="btn btn-success" [disabled]="userForm.invalid">Add User</button>
    @if(errorMessage)
    {
      <div class="text-danger mt-2">{{ errorMessage }}</div>
    }
  </form>
</div>
